## 1.3. Вибір і обґрунтування методу рішення задачі

Дана задача відноситься до задач розподілу ресурсів, отже вона описується математичною моделлю дискретного програмування [1]. За структурою математичної моделі задачу, що розглядається, можна віднести до класу задач з неподільними змінними [1], що випливає з фізичних умов безпосередньої практичної задачі створення оптимального плану розподілу виробництва декількох типів виробів по підприємствам декількох типів.

Розв'язання задач такого типу пов'язано зі значними труднощами, тому що таку задачу не можливо вирішити тимчасово відкинувши обмеження цілочисельності, а потім округлити отриманий розв'язок до цілочисельного [1].

Для розв'язання такого типу задач відомо декілька методів, які можна поділити на два типи - точні та наближені методи. До точних методів відносяться метод відсікаючих площин (метод Гоморрі), метод гілок та границь, метод послідовного аналізу і відсіву варіантів, адаптивний метод тощо. До наближених методів - метод локальної оптимізації, модифікації точних методів, евристичні методи та інші.

З огляду на те, що метою даної програми є розробка програмного продукту, за допомогою якого можна вирішувати клас задач означеного типу, ми розглянемо лише два методи, алгоритмічну реалізацію яких досить легко імплементувати.

Перший з розглянутих методів є метод відсікаючих площин (метод Гоморрі). Цей метод заснований на ідеї побудови гіперплощини (за допомогою додаткового обмеження), яка  відсікає від області допустимих розв'язків деякі нецілочисельні, але залишає в ній всі цілочисельні. 

Другим методом, який був розглянутий, є метод гілок та границь. Цей метод належить до групи комбінаторних методів. В його основу покладено деякі процедури, які дозволяють суттєво знизити кількість варіантів, які перебираються.

Обидва ці методи передбачають як складову розв'язання задачі лінійного програмування з тимчасово відкинутими обмеженнями цілочисельності. З огляду на необхідність додавання нових обмежень до початкової задачі в обох методах, для вирішення задач на кожній з ітерацій використано двоїстий симплекс-метод.

В ході даної роботи було реалізовано алгоритм рішення задач лінійного програмування двоїстим симплекс-методом. Реалізація алгоритму базувалась на матеріалах оприлюднених на веб-ресурсі Zweig Media[2]

## 1.3.1 Алгоритм генерації відсікаючих площин (метод Гоморрі)

Метод Гоморрі полягає у постійному додаванні відсікаючих обмежень (гіперплощин) до початкової задачі. З початку задача вирішується двоїстим симплекс методом і розв'язки перевіряється на цілочисельність. Якщо це так, то вони і є шуканим розв'язком задачі цілочисельного лінійного програмування. Якщо розв'язок не є цілочисельним, генерується відсікаючі обмеження за описаним нижче алгоритмом. У результаті ми отримуємо нову задачі лінійного програмування з новим додатковим обмеженням, розв'язуємо її і повертаємося на крок перевірки на цілочисельність.

Правильне відсічення будується за наступною формулою [1]:

$$ - \gamma_{i0} = \sum_{j=m+1}^{n} - \gamma_{ij} x_j + x_{n+1} $$

Отже відсікаюче обмеження створюється за наступним алгоритмом. З усіх рівнянь задачі лінійного програмування даної ітерації ми відбираємо ті, права частина яких не є цілим числом. Далі ми відбираємо з цих рівнянь таке, права частина якого містить найбільшу дробову частину. Далі, щоб отримати нове додаткове відсікаюче обмеження, виражаємо кожен з коефіцієнтів рівняння у вигляді суми цілого числа та невід’ємного дробу. Зауважимо, що це представлення є унікальним. Потім відкидаємо всі цілі доданки та замінюємо знак рівняння на знак більше або рівно. Отримане обмеження додаємо до поточної задачі лінійного програмування, розв'язуємо її двоїстим симплекс методом та переходимо на наступну ітерацію.

З огляду на те що навіть при малих кількостях змінних та обмежень рішення такої задачі цілочисельного програмування може потребувати великого обсягу обчислень та великої кількості операцій, було прийнято рішення обрати для реалізації інший метод, а саме метод гілок та границь.



## 1.3.2 Алгоритм методу гілок та границь

Метод гілок та границь не є спеціалізованим методом для вирішення задач цілочисельного програмування. Він є скоріш підходом до вирішення різноманітних класів задач. Він полягає у тому, що множина усіх допустимих розв'язків розділяється на підмножини розв'язків, для кожної з яких обчислюється оцінка допоки не буде знайдено оптимальне рішення. Метод належить до комбінаторних методів, але за рахунок порівняння оцінок кількість варіантів, які потрібно перебрати, може суттєво знижуватись.

У цій роботі був реалізований алгоритм методу гілок та границь, опис якого опубліковано у Б. Тейлора [3]. Алгоритм складається з наступних кроків. 

1. Знаходимо оптимальне рішення задачі лінійного програмування з тимчасово відкинутими обмеженнями цілочисельності.
2. Для вузла №1 за значення верхньої оцінки приймаємо значення цільової функції при оптимальному рішенні, за значення нижньої - при рішенні, округленому донизу.
3. Для розгалуження обираємо змінну, яка має найбільшу дробову частину. Створюємо два нових обмеження, які будуть розподіляти цілочисельні значення цієї змінної. Одне обмеження буде виду менше або рівно, друге - більше або рівно.
4. Створюємо два нових дочірніх вузли, один з додатковим обмеженням менше або рівно, другий - з більше або рівно.
5. Вирішуємо отримані задачі лінійного програмування з додатковими обмеженнями для обох вузлів.
6. Значення цільової функції для отриманого рішення буде верхньою оцінкою для поточного вузла. А нижньою оцінкою для поточного вузла буде максимальне цілочисельне рішення, що існує на даний момент. Це може бути рішення яке було отримано у якомусь попередньому вузлі, або щойно отримане, якщо воно максимальне.
7. Якщо у поточному вузлі задача має цілочисельне рішення та отримана верхня оцінка є найбільшою серед усіх кінцевих вузлів дерева, оптимальне рішення задачі цілочисельного програмування знайдено. Якщо рішення існує, але воно не є цілочисельним, для розгалуження обираємо вузол з найбільшою оцінкою та переходимо на крок №3.

Як показала практика реалізації цього алгоритму у програмному продукті, створеному в ході даної роботи, цілочисельний розв'язок задач, що розглядаються, може бути знайдено лише за декілька ітерацій.